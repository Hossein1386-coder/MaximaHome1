<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Øª Ø®Ø·Ø§Ù‡Ø§ÛŒ Ú©Ù†Ø³ÙˆÙ„ - Ø³ÛŒØ³ØªÙ… Ù¾Ø°ÛŒØ±Ø´ Ø®ÙˆØ¯Ø±Ùˆ</title>
    <style>
        body {
            font-family: 'Tahoma', Arial, sans-serif;
            direction: rtl;
            text-align: right;
            background: #f5f5f5;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .success { background: #d4edda; border-color: #c3e6cb; }
        .error { background: #f8d7da; border-color: #f5c6cb; }
        .warning { background: #fff3cd; border-color: #ffeaa7; }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background: #0056b3; }
        #console-output {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” ØªØ³Øª Ø®Ø·Ø§Ù‡Ø§ÛŒ Ú©Ù†Ø³ÙˆÙ„ - Ø³ÛŒØ³ØªÙ… Ù¾Ø°ÛŒØ±Ø´ Ø®ÙˆØ¯Ø±Ùˆ</h1>
        <p>Ø§ÛŒÙ† ØµÙØ­Ù‡ Ø¨Ø±Ø§ÛŒ ØªØ´Ø®ÛŒØµ Ù…Ø´Ú©Ù„Ø§Øª Ø§Ø­ØªÙ…Ø§Ù„ÛŒ Ø¯Ø± Ø³ÛŒØ³ØªÙ… Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª.</p>
        
        <div class="test-section">
            <h3>1. ØªØ³Øª Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§</h3>
            <button onclick="testLibraries()">ØªØ³Øª Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§</button>
            <div id="library-test"></div>
        </div>
        
        <div class="test-section">
            <h3>2. ØªØ³Øª Ø§ØªØµØ§Ù„ Firebase</h3>
            <button onclick="testFirebase()">ØªØ³Øª Firebase</button>
            <div id="firebase-test"></div>
        </div>
        
        <div class="test-section">
            <h3>3. ØªØ³Øª Chart.js</h3>
            <button onclick="testCharts()">ØªØ³Øª Ù†Ù…ÙˆØ¯Ø§Ø±Ù‡Ø§</button>
            <div id="chart-test"></div>
        </div>
        
        <div class="test-section">
            <h3>4. ØªØ³Øª Moment.js</h3>
            <button onclick="testMoment()">ØªØ³Øª ØªØ§Ø±ÛŒØ® Ø´Ù…Ø³ÛŒ</button>
            <div id="moment-test"></div>
        </div>
        
        <div class="test-section">
            <h3>5. Ø®Ø±ÙˆØ¬ÛŒ Ú©Ù†Ø³ÙˆÙ„</h3>
            <button onclick="clearConsole()">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù†</button>
            <div id="console-output"></div>
        </div>
        
        <div class="test-section">
            <h3>6. Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø±ÙØ¹ Ù…Ø´Ú©Ù„</h3>
            <ul>
                <li><strong>Ø®Ø·Ø§ÛŒ CORS:</strong> Ù…Ù…Ú©Ù† Ø§Ø³Øª CDN Ù‡Ø§ Ù…Ø³Ø¯ÙˆØ¯ Ø¨Ø§Ø´Ù†Ø¯</li>
                <li><strong>Ø®Ø·Ø§ÛŒ Network:</strong> Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯</li>
                <li><strong>Ø®Ø·Ø§ÛŒ Firebase:</strong> Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ API Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯</li>
                <li><strong>Ø®Ø·Ø§ÛŒ Chart.js:</strong> Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ù„ÙˆØ¯ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</li>
                <li><strong>Ø®Ø·Ø§ÛŒ Moment.js:</strong> Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ ØªØ§Ø±ÛŒØ® Ø´Ù…Ø³ÛŒ Ù„ÙˆØ¯ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</li>
            </ul>
        </div>
    </div>

    <script>
        // Capture console output
        const originalLog = console.log;
        const originalWarn = console.warn;
        const originalError = console.error;
        const consoleOutput = document.getElementById('console-output');
        
        function addToConsole(message, type = 'log') {
            const timestamp = new Date().toLocaleTimeString('fa-IR');
            const prefix = type === 'error' ? 'âŒ' : type === 'warn' ? 'âš ï¸' : 'â„¹ï¸';
            consoleOutput.textContent += `[${timestamp}] ${prefix} ${message}\n`;
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
        }
        
        console.log = function(...args) {
            originalLog.apply(console, args);
            addToConsole(args.join(' '), 'log');
        };
        
        console.warn = function(...args) {
            originalWarn.apply(console, args);
            addToConsole(args.join(' '), 'warn');
        };
        
        console.error = function(...args) {
            originalError.apply(console, args);
            addToConsole(args.join(' '), 'error');
        };
        
        function clearConsole() {
            consoleOutput.textContent = '';
        }
        
        function testLibraries() {
            const result = document.getElementById('library-test');
            result.innerHTML = '';
            
            const tests = [
                { name: 'jQuery', test: () => typeof $ !== 'undefined' },
                { name: 'Chart.js', test: () => typeof Chart !== 'undefined' },
                { name: 'Moment.js', test: () => typeof moment !== 'undefined' },
                { name: 'jsPDF', test: () => typeof jsPDF !== 'undefined' },
                { name: 'html2canvas', test: () => typeof html2canvas !== 'undefined' }
            ];
            
            tests.forEach(test => {
                const div = document.createElement('div');
                try {
                    const success = test.test();
                    div.className = success ? 'success' : 'error';
                    div.textContent = `${success ? 'âœ…' : 'âŒ'} ${test.name}: ${success ? 'Ù…ÙˆØ¬ÙˆØ¯' : 'ØºÛŒØ±Ù…ÙˆØ¬ÙˆØ¯'}`;
                } catch (error) {
                    div.className = 'error';
                    div.textContent = `âŒ ${test.name}: Ø®Ø·Ø§ - ${error.message}`;
                }
                result.appendChild(div);
            });
        }
        
        function testFirebase() {
            const result = document.getElementById('firebase-test');
            result.innerHTML = '';
            
            if (typeof window.firebase !== 'undefined') {
                result.className = 'success';
                result.innerHTML = 'âœ… Firebase: Ù…ØªØµÙ„ Ùˆ Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡';
            } else {
                result.className = 'error';
                result.innerHTML = 'âŒ Firebase: Ù…ØªØµÙ„ Ù†ÛŒØ³Øª - Ø¨Ø±Ø±Ø³ÛŒ Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª Ùˆ CDN Ù‡Ø§';
            }
        }
        
        function testCharts() {
            const result = document.getElementById('chart-test');
            result.innerHTML = '';
            
            if (typeof Chart !== 'undefined') {
                try {
                    const canvas = document.createElement('canvas');
                    const chart = new Chart(canvas, {
                        type: 'bar',
                        data: { labels: ['ØªØ³Øª'], datasets: [{ data: [1] }] }
                    });
                    chart.destroy();
                    result.className = 'success';
                    result.innerHTML = 'âœ… Chart.js: Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯';
                } catch (error) {
                    result.className = 'error';
                    result.innerHTML = `âŒ Chart.js: Ø®Ø·Ø§ - ${error.message}`;
                }
            } else {
                result.className = 'error';
                result.innerHTML = 'âŒ Chart.js: Ù„ÙˆØ¯ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª';
            }
        }
        
        function testMoment() {
            const result = document.getElementById('moment-test');
            result.innerHTML = '';
            
            if (typeof moment !== 'undefined') {
                try {
                    const persianDate = moment().format('jYYYY/jMM/jDD');
                    result.className = 'success';
                    result.innerHTML = `âœ… Moment.js: Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ - ØªØ§Ø±ÛŒØ® Ø§Ù…Ø±ÙˆØ²: ${persianDate}`;
                } catch (error) {
                    result.className = 'error';
                    result.innerHTML = `âŒ Moment.js: Ø®Ø·Ø§ - ${error.message}`;
                }
            } else {
                result.className = 'error';
                result.innerHTML = 'âŒ Moment.js: Ù„ÙˆØ¯ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª';
            }
        }
        
        // Auto-run tests on page load
        window.addEventListener('load', function() {
            console.log('ğŸš€ Ø´Ø±ÙˆØ¹ ØªØ³Øª Ø³ÛŒØ³ØªÙ…...');
            setTimeout(() => {
                testLibraries();
                testFirebase();
                testCharts();
                testMoment();
            }, 2000);
        });
    </script>
</body>
</html>
